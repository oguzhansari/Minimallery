function randomcode(i){void 0==i&&(i=10);for(var a="",l="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r=0;i>r;r++)a+=l.charAt(Math.floor(Math.random()*l.length));return a}
!function(i){"use strict";i.fn.ffminimallery=function(a){var a=jQuery.extend({id:"glry-"+randomcode(20)},a);return this.each(function(){var l=i(this),r=a.id,e=l.attr("data-minimallery");l.click(function(){function a(a){i('.minimallery-images .img-ctn[data-minimallery-img-id="'+s+'"]',u).removeClass("active"),i('.minimallery-images .img-ctn[data-minimallery-img-id="'+a+'"]',u).addClass("active"),s=a}for(var t=JSON.parse(l.attr("data-minimallery-imgs").replace(/\'/g,'"')),n=JSON.parse(l.attr("data-minimallery-imgs").replace(/\'/g,'"')),m="",c="",s=0,d=t.length,f=d-1,o=0;d>o;o++)m+='<div class="img-ctn" data-minimallery-img-id="'+o+'"><figure><img src="'+t[o]+'" /></figure></div>',c+='<li data-minimallery-thumb-id="'+o+'"><figure><img src="'+n[o]+'" /></figure></li>';var g='<div class="minimallery" id="'+r+'"><div class="minimallery-ctn"><a href="#" class="ff-close"><img src="Assets/img/icon-minimallery-close.png" /></a><div class="minimallery-content"><div class="minimallery-title">'+e+'</div><a href="#" class="ff-leftright ff-left"><span><img src="Assets/img/icon-minimallery-arrow-left.png" /></span></a><div class="minimallery-images">'+m+'</div><a href="#" class="ff-leftright ff-right"><span><img src="Assets/img/icon-minimallery-arrow-right.png" /></span></a><div class="minimallery-thumbs"><nav><ul>'+c+"</ul></nav></div></div></div></div>";i("body").append(g);var u=i("#"+r);return u.css({display:"block",opacity:0}).animate({opacity:1},750),i(".minimallery-thumbs ul li",u).click(function(){return i(".minimallery-thumbs ul li",u).removeClass("active"),i(this).addClass("active"),a(i(this).attr("data-minimallery-thumb-id")),!1}),i(".ff-close",u).click(function(){return u.animate({opacity:0},750,function(){i(this).remove()}),!1}),i(".ff-left",u).click(function(){var a=0==s?f:parseInt(s)-1;return i('.minimallery-thumbs ul li[data-minimallery-thumb-id="'+a+'"]',u).trigger("click"),!1}),i(".ff-right",u).click(function(){var a=s==f?0:parseInt(s)+1;return i('.minimallery-thumbs ul li[data-minimallery-thumb-id="'+a+'"]',u).trigger("click"),!1}),i('.minimallery-thumbs ul li[data-minimallery-thumb-id="'+s+'"]',u).trigger("click"),i(u).hover(function(){i("body").attr("onKeyDown","$.doKey(event); return false;")},function(){i("body").removeAttr("onKeyDown")}),i.doKey=function(a){return 37==a.keyCode?i(".ff-left",u).trigger("click"):39==a.keyCode?i(".ff-right",u).trigger("click"):27==a.keyCode&&i(".ff-close",u).trigger("click"),!1},!1})})}}(jQuery),$(function(){$("[data-minimallery]").minimallery()})
